<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox spacing="10.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.ucop.hieu_order.controller.CartController">
   <padding><Insets bottom="20" left="20" right="20" top="20" /></padding>
   <children>
      <Label text="Táº O ÄÆ N HÃ€NG (POS)" textFill="#e67e22"><font><Font name="System Bold" size="20.0" /></font></Label>
      
      <HBox spacing="10.0" alignment="CENTER_LEFT">
         <Label text="Sáº£n pháº©m:" />
         <ComboBox fx:id="cbProducts" prefWidth="250.0" promptText="Chá»n sáº£n pháº©m..." />
         <Label text="SL:" />
         <TextField fx:id="txtQuantity" prefWidth="60.0" text="1" />
         <Button onAction="#handleAddToCart" text="ThÃªm vÃ o giá»" style="-fx-background-color: #3498db; -fx-text-fill: white;" />
      </HBox>

      <TableView fx:id="tableCart" prefHeight="200.0">
        <columns>
          <TableColumn text="TÃªn Sáº£n pháº©m" prefWidth="250"><cellValueFactory><PropertyValueFactory property="item" /></cellValueFactory></TableColumn>
          <TableColumn text="ÄÆ¡n giÃ¡" prefWidth="100"><cellValueFactory><PropertyValueFactory property="price" /></cellValueFactory></TableColumn>
          <TableColumn text="Sá»‘ lÆ°á»£ng" prefWidth="80"><cellValueFactory><PropertyValueFactory property="quantity" /></cellValueFactory></TableColumn>
        </columns>
      </TableView>

      <HBox alignment="CENTER_RIGHT">
          <Button text="ðŸ—‘ XÃ³a dÃ²ng chá»n" onAction="#handleRemoveItem" style="-fx-background-color: #e74c3c; -fx-text-fill: white;" />
      </HBox>

      <HBox spacing="20.0" alignment="TOP_RIGHT">
          <VBox spacing="5.0" alignment="TOP_RIGHT">
             <Label text="MÃ£ Khuyáº¿n MÃ£i:" />
             <HBox spacing="5.0">
                <TextField fx:id="txtPromoCode" promptText="Nháº­p code..." prefWidth="120"/>
                <Button onAction="#handleApplyCode" text="Ãp dá»¥ng" />
             </HBox>
          </VBox>

          <GridPane hgap="10.0" vgap="5.0" style="-fx-background-color: #f9f9f9; -fx-padding: 10; -fx-background-radius: 5;">
             <columnConstraints>
                <ColumnConstraints halignment="RIGHT" />
                <ColumnConstraints halignment="RIGHT" minWidth="120.0" />
             </columnConstraints>
             <children>
                <Label text="Táº¡m tÃ­nh (Subtotal):" GridPane.rowIndex="0" />
                <Label fx:id="lblSubTotal" text="0" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                
                <Label text="Thuáº¿ (VAT 10%):" GridPane.rowIndex="1" />
                <Label fx:id="lblTax" text="0" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                
                <Label text="PhÃ­ Ship:" GridPane.rowIndex="2" />
                <Label fx:id="lblShip" text="0" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                
                <Label text="Giáº£m giÃ¡:" GridPane.rowIndex="3" textFill="GREEN" />
                <Label fx:id="lblDiscount" text="0" GridPane.columnIndex="1" GridPane.rowIndex="3" textFill="GREEN" />
                
                <Label text="Tá»”NG THANH TOÃN:" GridPane.rowIndex="4"><font><Font name="System Bold" size="14.0" /></font></Label>
                <Label fx:id="lblGrandTotal" text="0 VNÄ" textFill="#c0392b" GridPane.columnIndex="1" GridPane.rowIndex="4"><font><Font name="System Bold" size="16.0" /></font></Label>
             </children>
          </GridPane>
      </HBox>

      <Button onAction="#handleCheckout" text="XÃC NHáº¬N Äáº¶T HÃ€NG (PLACED)" maxWidth="Infinity" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12;" />
   </children>
</VBox>